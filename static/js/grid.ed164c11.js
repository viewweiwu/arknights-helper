(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["grid"],{"014b":function(t,e,n){"use strict";var i=n("e53d"),a=n("07e3"),o=n("8e60"),r=n("63b6"),s=n("9138"),c=n("ebfd").KEY,l=n("294c"),u=n("dbdb"),f=n("45f2"),d=n("62a0"),p=n("5168"),m=n("ccb9"),h=n("6718"),v=n("47ee"),b=n("9003"),y=n("e4ae"),C=n("f772"),k=n("36c3"),x=n("1bc3"),g=n("aebd"),_=n("a159"),w=n("0395"),$=n("bf0b"),O=n("d9f6"),E=n("c3a1"),S=$.f,j=O.f,A=w.f,P=i.Symbol,F=i.JSON,D=F&&F.stringify,T="prototype",I=p("_hidden"),R=p("toPrimitive"),K={}.propertyIsEnumerable,z=u("symbol-registry"),N=u("symbols"),B=u("op-symbols"),L=Object[T],U="function"==typeof P,J=i.QObject,M=!J||!J[T]||!J[T].findChild,V=o&&l(function(){return 7!=_(j({},"a",{get:function(){return j(this,"a",{value:7}).a}})).a})?function(t,e,n){var i=S(L,e);i&&delete L[e],j(t,e,n),i&&t!==L&&j(L,e,i)}:j,q=function(t){var e=N[t]=_(P[T]);return e._k=t,e},W=U&&"symbol"==typeof P.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof P},Y=function(t,e,n){return t===L&&Y(B,e,n),y(t),e=x(e,!0),y(n),a(N,e)?(n.enumerable?(a(t,I)&&t[I][e]&&(t[I][e]=!1),n=_(n,{enumerable:g(0,!1)})):(a(t,I)||j(t,I,g(1,{})),t[I][e]=!0),V(t,e,n)):j(t,e,n)},G=function(t,e){y(t);var n,i=v(e=k(e)),a=0,o=i.length;while(o>a)Y(t,n=i[a++],e[n]);return t},Q=function(t,e){return void 0===e?_(t):G(_(t),e)},H=function(t){var e=K.call(this,t=x(t,!0));return!(this===L&&a(N,t)&&!a(B,t))&&(!(e||!a(this,t)||!a(N,t)||a(this,I)&&this[I][t])||e)},X=function(t,e){if(t=k(t),e=x(e,!0),t!==L||!a(N,e)||a(B,e)){var n=S(t,e);return!n||!a(N,e)||a(t,I)&&t[I][e]||(n.enumerable=!0),n}},Z=function(t){var e,n=A(k(t)),i=[],o=0;while(n.length>o)a(N,e=n[o++])||e==I||e==c||i.push(e);return i},tt=function(t){var e,n=t===L,i=A(n?B:k(t)),o=[],r=0;while(i.length>r)!a(N,e=i[r++])||n&&!a(L,e)||o.push(N[e]);return o};U||(P=function(){if(this instanceof P)throw TypeError("Symbol is not a constructor!");var t=d(arguments.length>0?arguments[0]:void 0),e=function(n){this===L&&e.call(B,n),a(this,I)&&a(this[I],t)&&(this[I][t]=!1),V(this,t,g(1,n))};return o&&M&&V(L,t,{configurable:!0,set:e}),q(t)},s(P[T],"toString",function(){return this._k}),$.f=X,O.f=Y,n("6abf").f=w.f=Z,n("355d").f=H,n("9aa9").f=tt,o&&!n("b8e3")&&s(L,"propertyIsEnumerable",H,!0),m.f=function(t){return q(p(t))}),r(r.G+r.W+r.F*!U,{Symbol:P});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;et.length>nt;)p(et[nt++]);for(var it=E(p.store),at=0;it.length>at;)h(it[at++]);r(r.S+r.F*!U,"Symbol",{for:function(t){return a(z,t+="")?z[t]:z[t]=P(t)},keyFor:function(t){if(!W(t))throw TypeError(t+" is not a symbol!");for(var e in z)if(z[e]===t)return e},useSetter:function(){M=!0},useSimple:function(){M=!1}}),r(r.S+r.F*!U,"Object",{create:Q,defineProperty:Y,defineProperties:G,getOwnPropertyDescriptor:X,getOwnPropertyNames:Z,getOwnPropertySymbols:tt}),F&&r(r.S+r.F*(!U||l(function(){var t=P();return"[null]"!=D([t])||"{}"!=D({a:t})||"{}"!=D(Object(t))})),"JSON",{stringify:function(t){var e,n,i=[t],a=1;while(arguments.length>a)i.push(arguments[a++]);if(n=e=i[1],(C(e)||void 0!==t)&&!W(t))return b(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!W(e))return e}),i[1]=e,D.apply(F,i)}}),P[T][R]||n("35e8")(P[T],R,P[T].valueOf),f(P,"Symbol"),f(Math,"Math",!0),f(i.JSON,"JSON",!0)},"02f4":function(t,e,n){var i=n("4588"),a=n("be13");t.exports=function(t){return function(e,n){var o,r,s=String(a(e)),c=i(n),l=s.length;return c<0||c>=l?t?"":void 0:(o=s.charCodeAt(c),o<55296||o>56319||c+1===l||(r=s.charCodeAt(c+1))<56320||r>57343?t?s.charAt(c):o:t?s.slice(c,c+2):r-56320+(o-55296<<10)+65536)}}},"0390":function(t,e,n){"use strict";var i=n("02f4")(!0);t.exports=function(t,e,n){return e+(n?i(t,e).length:1)}},"0395":function(t,e,n){var i=n("36c3"),a=n("6abf").f,o={}.toString,r="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return a(t)}catch(e){return r.slice()}};t.exports.f=function(t){return r&&"[object Window]"==o.call(t)?s(t):a(i(t))}},"099f":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"main",staticClass:"layout-fight",attrs:{tabindex:"0"},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"escape",void 0,e.key,void 0)?null:(e.stopPropagation(),t.handleBack(e))},mousewheel:function(e){return e.target!==e.currentTarget?null:(e.preventDefault(),t.handleScroll(e))}}},[n("a-back",{ref:"back",staticClass:"layout-fight-back",on:{click:t.hide}}),n("layout-form",{ref:"form"}),n("layout-form-ctrl",{ref:"ctrl"}),n("ul",{staticClass:"layout-fight-content"},[n("div",{staticClass:"layout-fight-line"}),t.hasCheckbox?n("li",{staticClass:"layout-fight-item",on:{click:t.deleteCheckboxRow}},[n("div",{staticClass:"item-symbol"}),n("div",{staticClass:"item-content"},[n("p",[n("a-icon",{attrs:{icon:"checkbox",size:60}})],1),n("p",[t._v("选择框")])])]):n("li",{staticClass:"layout-fight-item",on:{click:t.addCheckboxRow}},[n("div",{staticClass:"item-symbol"}),n("div",{staticClass:"item-content item-lock"},[n("p",[n("a-icon",{attrs:{icon:"lock",size:60}})],1),n("p",[t._v("选择框")])])]),t._l(t.fields,function(e,i){return n("li",{key:e.id,ref:"field",refInFor:!0,staticClass:"layout-fight-item cursor",attrs:{tabIndex:"0"},on:{keydown:function(n){return!n.type.indexOf("key")&&t._k(n.keyCode,"enter",13,n.key,"Enter")?null:t.handleUpdate(e,i)},click:function(n){return t.handleUpdate(e,i)}}},[n("div",{staticClass:"item-symbol"}),n("div",{staticClass:"item-content"},[n("p",[t._v(t._s(e.title))])])])}),n("li",{ref:"add",staticClass:"layout-fight-item cursor",attrs:{tabIndex:"0"},on:{click:function(e){return t.handleAdd()},keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleAdd()}}},[n("div",{staticClass:"item-symbol"}),n("div",{staticClass:"item-content"},[n("a-icon",{attrs:{icon:"plus"}})],1)]),t.hasCtrl?n("li",{staticClass:"layout-fight-item"},[n("div",{staticClass:"item-symbol"}),n("div",{staticClass:"item-content",on:{click:t.addCtrlRow}},[n("p",[n("a-icon",{attrs:{icon:"btn",size:60}})],1),n("p",[t._v("按钮组")])])]):n("li",{staticClass:"layout-fight-item"},[n("div",{staticClass:"item-symbol"}),n("div",{staticClass:"item-content item-lock",on:{click:t.openCtrlRow}},[n("p",[n("a-icon",{attrs:{icon:"lock",size:60}})],1),n("p",[t._v("按钮组")])])])],2),n("div",{staticClass:"layout-fight-ctrl",style:{width:340*(t.fields.length+3)+160+"px"}},t._l(t.fields,function(e,i){return n("div",{key:i,staticClass:"ctrl-item",on:{click:function(e){return t.handleAdd(i)}}},[n("button",{staticClass:"ctrl-item-btn"},[n("a-icon",{attrs:{icon:"plus"}})],1)])}),0)],1)},a=[],o=n("cebc"),r=(n("cadf"),n("551c"),n("f751"),n("097d"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.visible?n("div",{ref:"form",staticClass:"layout-form",on:{keydown:function(e){return e.stopPropagation(),t.handleKeydown(e)}}},[n("div",{staticClass:"layout-form-header"},[n("div",{staticClass:"header-left"},[n("a-back",{ref:"back",on:{click:t.handleBack}}),n("div",{staticClass:"header-title"},[n("a-icon",{attrs:{icon:"pen"}}),n("span",{staticClass:"gap"},[t._v(t._s("add"===t.mode?"新增":"编辑")+"一列")])],1)],1),"update"===t.mode?n("a-button",{staticClass:"small",attrs:{audio:"back"},on:{click:t.handleDelete}},[t._v("删除此列")]):t._e()],1),n("div",{staticClass:"layout-form-container"},[n("div",{staticClass:"layout-form-tab"},t._l(t.tabs,function(e,i){return n("div",{key:e.label,staticClass:"a-button tab-item",class:{active:i===t.active},on:{click:function(e){return t.scrollMain(i)}}},[n("a-icon",{attrs:{icon:e.icon}}),n("span",{staticClass:"gap"},[t._v(t._s(e.label))])],1)}),0),n("div",{ref:"main",staticClass:"layout-form-main",on:{scroll:t.handleScroll}},[n("div",{staticClass:"form-wrap"},[n("h3",{ref:"h3",staticClass:"form-title"},[t._v("基础配置")]),n("div",{staticClass:"form-item"},[n("label",{staticClass:"item-label"},[t._v("title")]),n("a-input",{ref:"title",staticClass:"item-content",attrs:{placeholder:"请输入 title"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}}),n("span",{staticClass:"item-tip"},[t._v("标题")])],1),n("div",{staticClass:"form-item"},[n("label",{staticClass:"item-label"},[t._v("key")]),n("a-input",{staticClass:"item-content",attrs:{placeholder:"请输入 key"},model:{value:t.form.key,callback:function(e){t.$set(t.form,"key",e)},expression:"form.key"}}),n("span",{staticClass:"item-tip"},[t._v("key")])],1),n("div",{staticClass:"form-item"},[n("label",{staticClass:"item-label"},[t._v("type")]),n("a-input",{staticClass:"item-content",attrs:{placeholder:"请选择 type"},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}}),n("span",{staticClass:"item-tip"},[t._v("标签的类型，这个属性不会应用到 table 上")])],1),n("div",{staticClass:"form-item"},[n("label",{staticClass:"item-label"},[t._v("options")]),n("div",{staticClass:"item-content"},[n("a-input",{ref:"option-input",staticClass:"item-content",attrs:{placeholder:"请输入选项"},nativeOn:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleOptionEnter(e)}},model:{value:t.form.optionsValue,callback:function(e){t.$set(t.form,"optionsValue",e)},expression:"form.optionsValue"}}),t.form.options.length?n("ul",{staticClass:"layout-form-options"},t._l(t.form.options,function(e,i){return n("li",{key:e.value,ref:"option",refInFor:!0,staticClass:"option-item",attrs:{tabindex:"0"},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"backspace",void 0,e.key,void 0)?null:t.handleDeleteOption(t.form.options,i)}}},[n("span",[t._v(t._s(e.label)+"："+t._s(e.value))]),n("a-icon",{attrs:{icon:"close"},on:{click:function(e){return t.handleDeleteOption(t.form.options,i)}}})],1)}),0):t._e()],1),n("span",{staticClass:"item-tip"},[n("p",{staticClass:"mb"},[t._v("（label value）回车 "),n("a-icon",{attrs:{icon:"info"}})],1),t.form.options.length?n("p",[t._v("此选项在表格、查询、弹窗三者都有用，在表格会跟 value 匹配展示 label，在查询和弹窗则展示下拉。")]):t._e()])]),n("div",{staticClass:"form-item"},[n("label",{staticClass:"item-label"},[t._v("optionsKey")]),n("a-input",{staticClass:"item-content",attrs:{placeholder:"请选择需要的类型"},model:{value:t.form.optionsKey,callback:function(e){t.$set(t.form,"optionsKey",e)},expression:"form.optionsKey"}}),n("span",{staticClass:"item-tip"},[t._v("可以从 systemParams 取 key 值")])],1)]),n("div",{staticClass:"form-wrap"},[n("h3",{ref:"h3",staticClass:"form-title"},[t._v("表格扩展 table")]),n("div",{staticClass:"form-item"},[n("label",{staticClass:"item-label"},[t._v("show")]),n("span",{staticClass:"item-content"},[n("a-switch",{model:{value:t.form.hasTableExtend,callback:function(e){t.$set(t.form,"hasTableExtend",e)},expression:"form.hasTableExtend"}})],1),n("span",{staticClass:"item-tip"},[t._v("是否在表格表格展示这一列？")])]),n("div",{staticClass:"form-item"},[n("label",{staticClass:"item-label"},[t._v("title")]),n("a-input",{staticClass:"item-content",attrs:{placeholder:"请输入 title"},model:{value:t.form.table.title,callback:function(e){t.$set(t.form.table,"title",e)},expression:"form.table.title"}}),n("span",{staticClass:"item-tip"},[t._v("标题")])],1),n("div",{staticClass:"form-item"},[n("label",{staticClass:"item-label"},[t._v("key")]),n("a-input",{staticClass:"item-content",attrs:{placeholder:"请输入 key"},model:{value:t.form.table.key,callback:function(e){t.$set(t.form.table,"key",e)},expression:"form.table.key"}}),n("span",{staticClass:"item-tip"},[t._v("key")])],1),n("div",{staticClass:"form-item"},[n("label",{staticClass:"item-label"},[t._v("type")]),n("a-input",{staticClass:"item-content",attrs:{placeholder:"请选择 type"},model:{value:t.form.table.type,callback:function(e){t.$set(t.form.table,"type",e)},expression:"form.table.type"}}),n("span",{staticClass:"item-tip"},[t._v("标签的类型，这个属性不会应用到 table 上")])],1)]),n("div",{staticClass:"form-wrap"},[n("h3",{ref:"h3",staticClass:"form-title"},[t._v("查询扩展 search")]),n("div",{staticClass:"form-item"},[n("label",{staticClass:"item-label"},[t._v("show")]),n("span",{staticClass:"item-content"},[n("a-switch",{model:{value:t.form.hasSearchExtend,callback:function(e){t.$set(t.form,"hasSearchExtend",e)},expression:"form.hasSearchExtend"}})],1),n("span",{staticClass:"item-tip"},[t._v("是否需要在顶部开启搜索？")])]),n("div",{staticClass:"form-item"},[n("label",{staticClass:"item-label"},[t._v("title")]),n("a-input",{staticClass:"item-content",attrs:{placeholder:"请输入 title"},model:{value:t.form.search.title,callback:function(e){t.$set(t.form.search,"title",e)},expression:"form.search.title"}}),n("span",{staticClass:"item-tip"},[t._v("标题，不填写继承基础配置。")])],1),n("div",{staticClass:"form-item"},[n("label",{staticClass:"item-label"},[t._v("key")]),n("a-input",{staticClass:"item-content",attrs:{placeholder:"请输入 key"},model:{value:t.form.search.key,callback:function(e){t.$set(t.form.search,"key",e)},expression:"form.search.key"}}),n("span",{staticClass:"item-tip"},[t._v("key，不填写继承基础配置。")])],1),n("div",{staticClass:"form-item"},[n("label",{staticClass:"item-label"},[t._v("type")]),n("a-input",{staticClass:"item-content",attrs:{placeholder:"请选择 type"},model:{value:t.form.search.type,callback:function(e){t.$set(t.form.search,"type",e)},expression:"form.search.type"}}),n("span",{staticClass:"item-tip"},[t._v("类型，不填写继承基础配置。")])],1)]),n("div",{staticClass:"form-wrap"},[n("h3",{ref:"h3",staticClass:"form-title"},[t._v("弹窗扩展 dialog")]),n("div",{staticClass:"form-item"},[n("label",{staticClass:"item-label"},[t._v("show")]),n("span",{staticClass:"item-content"},[n("a-switch",{model:{value:t.form.hasDialogExtend,callback:function(e){t.$set(t.form,"hasDialogExtend",e)},expression:"form.hasDialogExtend"}})],1),n("span",{staticClass:"item-tip"},[t._v("是否需要在顶部开启搜索？")])]),n("div",{staticClass:"form-item"},[n("label",{staticClass:"item-label"},[t._v("title")]),n("a-input",{staticClass:"item-content",attrs:{placeholder:"请输入 title"},model:{value:t.form.dialog.title,callback:function(e){t.$set(t.form.dialog,"title",e)},expression:"form.dialog.title"}}),n("span",{staticClass:"item-tip"},[t._v("标题，不填写继承基础配置。")])],1),n("div",{staticClass:"form-item"},[n("label",{staticClass:"item-label"},[t._v("key")]),n("a-input",{staticClass:"item-content",attrs:{placeholder:"请输入 key"},model:{value:t.form.dialog.key,callback:function(e){t.$set(t.form.dialog,"key",e)},expression:"form.dialog.key"}}),n("span",{staticClass:"item-tip"},[t._v("key，不填写继承基础配置。")])],1),n("div",{staticClass:"form-item"},[n("label",{staticClass:"item-label"},[t._v("type")]),n("a-input",{staticClass:"item-content",attrs:{placeholder:"请选择 type"},model:{value:t.form.dialog.type,callback:function(e){t.$set(t.form.dialog,"type",e)},expression:"form.dialog.type"}}),n("span",{staticClass:"item-tip"},[t._v("类型，不填写继承基础配置。")])],1)]),n("div",{staticClass:"form-empty"})])]),n("div",{staticClass:"layout-form-footer"},[n("button",{staticClass:"a-button active",on:{click:t.handleConfirm}},[n("a-icon",{attrs:{icon:"done"}}),n("span",{staticClass:"gap"},[t._v("完成配置")])],1)])]):t._e()}),s=[],c=(n("28a5"),n("20d6"),n("a745")),l=n.n(c);function u(t){if(l()(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}var f=n("774e"),d=n.n(f),p=n("c8bb"),m=n.n(p);function h(t){if(m()(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t))return d()(t)}function v(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function b(t){return u(t)||h(t)||v()}var y=n("795b"),C=n.n(y),k=n("e0eb"),x={name:"layout-form",data:function(){return{visible:!1,mode:"",active:0,type:"normal",form:this.getForm(),appended:!1,tabs:[{label:"基础配置",icon:"pen"},{label:"表格扩展",icon:"table"},{label:"查询扩展",icon:"filter"},{label:"弹窗扩展",icon:"card"}]}},methods:{getForm:function(){return{title:"",key:"",type:"",options:[],optionsValue:"",optionsKey:"",hasTableExtend:!0,table:{title:"",type:"",key:""},hasSearchExtend:!1,search:{title:"",type:"",key:""},hasDialogExtend:!1,dialog:{title:"",type:"",key:""}}},init:function(){var t=this;this.visible=!0,this.appended||this.$nextTick(function(){document.body.appendChild(t.$refs.form)}),this.$nextTick(function(){t.$refs.title.focus()})},add:function(){var t=this;return new C.a(function(e,n){t.init(),t.resolve=e,t.reject=n,t.form=t.getForm(),t.mode="add"})},update:function(t){var e=this;return new C.a(function(n,i){e.init(),e.resolve=n,e.reject=i,e.form=Object(k["a"])(t),e.mode="update"})},handleScroll:function(t){var e=this;this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){var t=b(e.$refs.form.querySelectorAll("h3")),n=t.findIndex(function(t){return t.getBoundingClientRect().top>=0});e.active=n},100)},handleKeydown:function(t){"Enter"===t.key&&(t.ctrlKey||t.metaKey)?this.handleConfirm():"Escape"===t.key&&this.$refs.back.handleClick()},scrollMain:function(t){this.$sound.tab.play();var e=this.$refs.main,n=b(this.$refs.form.querySelectorAll("h3")),i=n[t];e.scrollBy({top:i.offsetTop-e.scrollTop,behavior:"smooth"})},handleConfirm:function(){this.$sound.confirm.play(),this.visible=!1,this.resolve(this.form)},handleBack:function(){this.visible=!1,this.reject(),this.resolve=null,this.reject=null},handleOptionEnter:function(){var t=this.form.optionsValue.trim();if(t){var e=t.split(" ");if(e.length>=2){var n={label:e[0],value:e[1]};this.form.options.push(n)}}this.form.optionsValue=""},handleDeleteOption:function(t,e){var n=this;t.splice(e,1),0===t.length?this.$refs["option-input"].focus():this.$nextTick(function(){n.$refs.option[e-1].focus()})},handleDelete:function(){this.reject(!0),this.handleBack()}}},g=x,_=(n("0a13"),n("2877")),w=Object(_["a"])(g,r,s,!1,null,null,null),$=w.exports,O=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.visible?n("div",{ref:"ctrl",staticClass:"layout-form-ctrl",on:{keydown:function(e){return e.stopPropagation(),t.handleKeydow(e)}}},[n("div",{staticClass:"layout-form-header"},[n("div",{staticClass:"header-left"},[n("a-back",{ref:"back",on:{click:t.handleBack}}),n("div",{staticClass:"header-title"},[n("a-icon",{attrs:{icon:"pen"}}),n("span",{staticClass:"gap"},[t._v("设定按钮")])],1)],1),n("a-button",{staticClass:"small",attrs:{audio:"back"},on:{click:t.handleDelete}},[t._v("删除此列")])],1),n("div",{staticClass:"ctrl-body"},[n("h2",{staticClass:"ctrl-header"},[t._v("设定按钮")]),n("ul",{staticClass:"ctrl-list"},[t._l(t.ctrls,function(e,i){return n("li",{key:i,staticClass:"ctrl-item"},[n("div",{staticClass:"ctrl-added"},[n("header",{staticClass:"ctrl-item-header"},[t._v("按钮样本")]),n("div",{staticClass:"ctrl-item-body"},[n("div",{staticClass:"body-left"},[e.auth?n("p",[n("a-icon",{attrs:{icon:"lock"}}),t._v("\n                "+t._s(e.auth)+"\n              ")],1):t._e()]),n("div",{staticClass:"body-right"},[n("div",{staticClass:"a-button blue body-confirm",attrs:{type:"blue",tabindex:"0"}},[t._v("\n                "+t._s(e.text)+"\n                "),e.confirm?n("div",{staticClass:"pop"},[n("header",{staticClass:"pop-header"},[n("a-icon",{attrs:{icon:"question"}}),n("span",{staticClass:"gap"},[t._v("确定要删除"),n("span",{staticClass:"pop-primary"},[t._v(t._s(e.primary))]),t._v("吗？")])],1),n("footer",{staticClass:"pop-footer"},[n("a-button",{staticClass:"pop-cancel",attrs:{size:"small"}},[t._v("取消")]),n("a-button",{attrs:{type:"black",size:"small"}},[t._v("确定")])],1)]):t._e()])])]),n("footer",{staticClass:"ctrl-item-footer"},[n("a-button",{attrs:{type:"black"},on:{click:function(e){return t.handleDelete(i)}}},[t._v("删除")]),n("a-button",{attrs:{type:"black"},on:{click:function(e){return t.handleUpdate(i)}}},[t._v("修改")])],1)]),n("span",{staticClass:"ctrl-num"},[t._v(t._s(i+1))])])}),t._l(t.max,function(e){return n("li",{key:e*Math.random(),staticClass:"ctrl-item"},[n("div",{staticClass:"ctrl-empty",on:{click:function(n){return t.handleAdd(e)}}},[n("a-icon",{attrs:{icon:"plus",size:40}}),n("p",{staticClass:"ctrl-text"},[t._v("开始添加按钮")])],1)])})],2)]),n("layout-form-ctrl-editor",{ref:"editor"})],1):t._e()},E=[],S=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.visible?n("div",{staticClass:"layout-form-ctrl-editor",attrs:{tabindex:"0"},on:{keydown:t.handleKeydown}},[n("div",{staticClass:"editor-content"},[n("div",{staticClass:"editor-row"},[n("span",{staticClass:"editor-picker"},[n("a-button",{staticClass:"editor-picker-up",attrs:{tabindex:"0"},on:{click:t.handlePickerUp}},[n("a-icon",{attrs:{icon:"up"}})],1),n("span",{staticClass:"editor-picker-text"},[t._v(t._s(t.pickerLabel))]),n("a-button",{staticClass:"editor-picker-down",attrs:{tabindex:"0"},on:{click:t.handlePickerDown}},[n("a-icon",{attrs:{icon:"down"}})],1)],1),["normal","confirm"].includes(t.form.picker)?n("a-input",{attrs:{placeholder:"填充文字"},model:{value:t.form.text,callback:function(e){t.$set(t.form,"text",e)},expression:"form.text"}}):t._e(),["delete","confirm"].includes(t.form.picker)?n("a-input",{attrs:{placeholder:"高亮文字"},model:{value:t.form.primary,callback:function(e){t.$set(t.form,"primary",e)},expression:"form.primary"}}):t._e(),t.form.auth||!t.lock?n("a-input",{ref:"auth",attrs:{placeholder:"权限字段"},model:{value:t.form.auth,callback:function(e){t.$set(t.form,"auth",e)},expression:"form.auth"}}):n("a-button",{staticClass:"editor-lock",attrs:{size:"middle",title:"开启权限"},on:{click:t.unlock}},[n("a-icon",{attrs:{icon:"lock"}})],1)],1)]),n("div",{staticClass:"editor-content editor-btns"},[n("a-button",{ref:"cancel",attrs:{audio:"back"},on:{click:t.handleCancel}},[n("a-icon",{attrs:{icon:"close",size:30}})],1),n("a-button",{ref:"confirm",attrs:{type:"blue",audio:"confirm"},on:{click:t.handleConfirm}},[n("a-icon",{attrs:{icon:"check",size:30}})],1)],1)]):t._e()},j=[],A=(n("7514"),function(){return{picker:"normal",confirm:!1,text:"",primary:"",auth:""}}),P={name:"layout-form-ctrl-editor",data:function(){return{visible:!1,lock:!0,form:A(),options:[{label:"普通按钮",value:"normal"},{label:"删除按钮",value:"delete"},{label:"编辑按钮",value:"update"},{label:"确认按钮",value:"confirm"}]}},computed:{pickerLabel:function(){var t=this.options,e=this.form,n=t.find(function(t){return t.value===e.picker});return n?n.label:"-"}},mounted:function(){document.body.appendChild(this.$el)},methods:{open:function(t){var e=this;return new C.a(function(n){if(e.visible=!0,e.resolve=n,e.form=A(),t)for(var i in t)e.form[i]=t[i];e.$nextTick(function(){e.$el.focus()})})},handlePickerUp:function(){var t=this.options,e=this.form;this.$sound.tab.play();var n=t.findIndex(function(t){return t.value===e.picker});n-=1,n>=0&&(e.picker=t[n].value)},handlePickerDown:function(){var t=this.options,e=this.form;this.$sound.tab.play();var n=t.findIndex(function(t){return t.value===e.picker});n+=1,n<t.length&&(e.picker=t[n].value)},handleKeydown:function(t){"Enter"===t.key&&(t.ctrlKey||t.metaKey)?this.handleConfirm():"Escape"===t.key&&this.$refs.cancel.handleClick()},handleCancel:function(){this.visible=!1,this.lock=!0,this.resolve=null},handleConfirm:function(){this.visible=!1,this.lock=!0;var t=this.form;switch(t.picker){case"normal":t.confirm=!1,t.primary="";break;case"delete":t.confirm=!0,t.text="删除";break}this.resolve(t),this.resolve=null},unlock:function(){var t=this;this.lock=!1,this.$nextTick(function(){t.$refs.auth.focus()})}}},F=P,D=(n("9c99"),Object(_["a"])(F,S,j,!1,null,null,null)),T=D.exports,I=n("2f62"),R={name:"layout-form-ctrl",components:{LayoutFormCtrlEditor:T},data:function(){return{visible:!1,btns:[]}},computed:Object(o["a"])({},Object(I["c"])(["ctrls"]),{max:function(){var t=4-this.ctrls.length;return t<0?0:t}}),mounted:function(){document.body.appendChild(this.$el)},methods:Object(o["a"])({},Object(I["b"])(["addCtrl","updateCtrl"]),{open:function(){this.visible=!0},handleAdd:function(t){var e=this;1!==t&&window.$tip("<p>丷前面空着不好处理</p><p>帮您挪到了第".concat(this.ctrls.length+1,"个</p>")),this.$refs.editor.open().then(function(t){e.addCtrl(t)})},handleUpdate:function(t){var e=this;this.$refs.editor.open(this.ctrls[t]).then(function(n){e.updateCtrl({ctrl:n,i:t})})},handleBack:function(){this.visible=!1},handleDelete:function(t){var e=this;window.$confirm("确认要删除吗？").then(function(){t!==e.ctrls.length-1&&window.$tip("已经自动矫正好顺序"),e.ctrls.splice(t,1)},function(){})},handlePickerUp:function(){this.$sound.tab.play()},handlePickerDown:function(){this.$sound.tab.play()}})},K=R,z=(n("b02f"),Object(_["a"])(K,O,E,!1,null,null,null)),N=z.exports,B={name:"layout-fight",components:{LayoutForm:$,LayoutFormCtrl:N},computed:Object(o["a"])({},Object(I["c"])(["hasCheckbox","hasCtrl","fields"])),mounted:function(){this.$refs.add.focus()},methods:Object(o["a"])({},Object(I["b"])(["setCheckbox","setCtrl","addField","updateField"]),{hide:function(){this.$router.back(),window.fields=this.fields},handleBack:function(){this.$refs.back.handleClick()},handleScroll:function(t){var e=this.$refs.main,n=50;e.scrollLeft+=t.deltaY<0?-n:n},handleAdd:function(t){var e=this;this.$sound.stagepull.play(),this.edit=!1,this.$refs.form.add().then(function(n){e.addField({field:n,i:t}),e.$refs.add.focus()},function(){e.$refs.add.focus()})},handleUpdate:function(t,e){var n=this;this.$sound.stagepull.play(),this.$refs.form.update(t).then(function(t){n.updateField({field:t,i:e}),n.$refs.field[e].focus()},function(t){t&&n.DELETE_FIELD(e),n.$refs.add.focus()})},addCheckboxRow:function(){var t=this;window.$confirm("确认要开启选择框吗？</br>开启后将会在表格最前面出现选择框。").then(function(){t.setCheckbox(!0)},function(){})},deleteCheckboxRow:function(){var t=this;window.$confirm("确认要移除按钮组吗？").then(function(){t.setCheckbox(!1)},function(){})},openCtrlRow:function(){var t=this;window.$confirm("确认要开启按钮组吗？</br>开启后将会在表格最后面出现按钮组。").then(function(){t.setCtrl(!0)},function(){})},addCtrlRow:function(){this.$refs.ctrl.open()}})},L=B,U=(n("b9fe"),Object(_["a"])(L,i,a,!1,null,null,null));e["default"]=U.exports},"0a13":function(t,e,n){"use strict";var i=n("e721"),a=n.n(i);a.a},"0a49":function(t,e,n){var i=n("9b43"),a=n("626a"),o=n("4bf8"),r=n("9def"),s=n("cd1c");t.exports=function(t,e){var n=1==t,c=2==t,l=3==t,u=4==t,f=6==t,d=5==t||f,p=e||s;return function(e,s,m){for(var h,v,b=o(e),y=a(b),C=i(s,m,3),k=r(y.length),x=0,g=n?p(e,k):c?p(e,0):void 0;k>x;x++)if((d||x in y)&&(h=y[x],v=C(h,x,b),t))if(n)g[x]=v;else if(v)switch(t){case 3:return!0;case 5:return h;case 6:return x;case 2:g.push(h)}else if(u)return!1;return f?-1:l||u?u:g}}},"0bfb":function(t,e,n){"use strict";var i=n("cb7c");t.exports=function(){var t=i(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},1169:function(t,e,n){var i=n("2d95");t.exports=Array.isArray||function(t){return"Array"==i(t)}},"1af6":function(t,e,n){var i=n("63b6");i(i.S,"Array",{isArray:n("9003")})},"20d6":function(t,e,n){"use strict";var i=n("5ca1"),a=n("0a49")(6),o="findIndex",r=!0;o in[]&&Array(1)[o](function(){r=!1}),i(i.P+i.F*r,"Array",{findIndex:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")(o)},"20fd":function(t,e,n){"use strict";var i=n("d9f6"),a=n("aebd");t.exports=function(t,e,n){e in t?i.f(t,e,a(0,n)):t[e]=n}},"214f":function(t,e,n){"use strict";n("b0c5");var i=n("2aba"),a=n("32e9"),o=n("79e5"),r=n("be13"),s=n("2b4c"),c=n("520a"),l=s("species"),u=!o(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),f=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(t,e,n){var d=s(t),p=!o(function(){var e={};return e[d]=function(){return 7},7!=""[t](e)}),m=p?!o(function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[l]=function(){return n}),n[d](""),!e}):void 0;if(!p||!m||"replace"===t&&!u||"split"===t&&!f){var h=/./[d],v=n(r,d,""[t],function(t,e,n,i,a){return e.exec===c?p&&!a?{done:!0,value:h.call(e,n,i)}:{done:!0,value:t.call(n,e,i)}:{done:!1}}),b=v[0],y=v[1];i(String.prototype,t,b),a(RegExp.prototype,d,2==e?function(t,e){return y.call(t,this,e)}:function(t){return y.call(t,this)})}}},"268f":function(t,e,n){t.exports=n("fde4")},"28a5":function(t,e,n){"use strict";var i=n("aae3"),a=n("cb7c"),o=n("ebd6"),r=n("0390"),s=n("9def"),c=n("5f1b"),l=n("520a"),u=n("79e5"),f=Math.min,d=[].push,p="split",m="length",h="lastIndex",v=4294967295,b=!u(function(){RegExp(v,"y")});n("214f")("split",2,function(t,e,n,u){var y;return y="c"=="abbc"[p](/(b)*/)[1]||4!="test"[p](/(?:)/,-1)[m]||2!="ab"[p](/(?:ab)*/)[m]||4!="."[p](/(.?)(.?)/)[m]||"."[p](/()()/)[m]>1||""[p](/.?/)[m]?function(t,e){var a=String(this);if(void 0===t&&0===e)return[];if(!i(t))return n.call(a,t,e);var o,r,s,c=[],u=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),f=0,p=void 0===e?v:e>>>0,b=new RegExp(t.source,u+"g");while(o=l.call(b,a)){if(r=b[h],r>f&&(c.push(a.slice(f,o.index)),o[m]>1&&o.index<a[m]&&d.apply(c,o.slice(1)),s=o[0][m],f=r,c[m]>=p))break;b[h]===o.index&&b[h]++}return f===a[m]?!s&&b.test("")||c.push(""):c.push(a.slice(f)),c[m]>p?c.slice(0,p):c}:"0"[p](void 0,0)[m]?function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)}:n,[function(n,i){var a=t(this),o=void 0==n?void 0:n[e];return void 0!==o?o.call(n,a,i):y.call(String(a),n,i)},function(t,e){var i=u(y,t,this,e,y!==n);if(i.done)return i.value;var l=a(t),d=String(this),p=o(l,RegExp),m=l.unicode,h=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(b?"y":"g"),C=new p(b?l:"^(?:"+l.source+")",h),k=void 0===e?v:e>>>0;if(0===k)return[];if(0===d.length)return null===c(C,d)?[d]:[];var x=0,g=0,_=[];while(g<d.length){C.lastIndex=b?g:0;var w,$=c(C,b?d:d.slice(g));if(null===$||(w=f(s(C.lastIndex+(b?0:g)),d.length))===x)g=r(d,g,m);else{if(_.push(d.slice(x,g)),_.length===k)return _;for(var O=1;O<=$.length-1;O++)if(_.push($[O]),_.length===k)return _;g=x=w}}return _.push(d.slice(x)),_}]})},"32a6":function(t,e,n){var i=n("241e"),a=n("c3a1");n("ce7e")("keys",function(){return function(t){return a(i(t))}})},"355d":function(t,e){e.f={}.propertyIsEnumerable},3976:function(t,e,n){},"454f":function(t,e,n){n("46a7");var i=n("584a").Object;t.exports=function(t,e,n){return i.defineProperty(t,e,n)}},"46a7":function(t,e,n){var i=n("63b6");i(i.S+i.F*!n("8e60"),"Object",{defineProperty:n("d9f6").f})},"47ee":function(t,e,n){var i=n("c3a1"),a=n("9aa9"),o=n("355d");t.exports=function(t){var e=i(t),n=a.f;if(n){var r,s=n(t),c=o.f,l=0;while(s.length>l)c.call(t,r=s[l++])&&e.push(r)}return e}},"520a":function(t,e,n){"use strict";var i=n("0bfb"),a=RegExp.prototype.exec,o=String.prototype.replace,r=a,s="lastIndex",c=function(){var t=/a/,e=/b*/g;return a.call(t,"a"),a.call(e,"a"),0!==t[s]||0!==e[s]}(),l=void 0!==/()??/.exec("")[1],u=c||l;u&&(r=function(t){var e,n,r,u,f=this;return l&&(n=new RegExp("^"+f.source+"$(?!\\s)",i.call(f))),c&&(e=f[s]),r=a.call(f,t),c&&r&&(f[s]=f.global?r.index+r[0].length:e),l&&r&&r.length>1&&o.call(r[0],n,function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(r[u]=void 0)}),r}),t.exports=r},"549b":function(t,e,n){"use strict";var i=n("d864"),a=n("63b6"),o=n("241e"),r=n("b0dc"),s=n("3702"),c=n("b447"),l=n("20fd"),u=n("7cd6");a(a.S+a.F*!n("4ee1")(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,a,f,d=o(t),p="function"==typeof this?this:Array,m=arguments.length,h=m>1?arguments[1]:void 0,v=void 0!==h,b=0,y=u(d);if(v&&(h=i(h,m>2?arguments[2]:void 0,2)),void 0==y||p==Array&&s(y))for(e=c(d.length),n=new p(e);e>b;b++)l(n,b,v?h(d[b],b):d[b]);else for(f=y.call(d),n=new p;!(a=f.next()).done;b++)l(n,b,v?r(f,h,[a.value,b],!0):a.value);return n.length=b,n}})},"54a1":function(t,e,n){n("6c1c"),n("1654"),t.exports=n("95d5")},"5f1b":function(t,e,n){"use strict";var i=n("23c6"),a=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"===typeof n){var o=n.call(t,e);if("object"!==typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==i(t))throw new TypeError("RegExp#exec called on incompatible receiver");return a.call(t,e)}},6718:function(t,e,n){var i=n("e53d"),a=n("584a"),o=n("b8e3"),r=n("ccb9"),s=n("d9f6").f;t.exports=function(t){var e=a.Symbol||(a.Symbol=o?{}:i.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:r.f(t)})}},"6abf":function(t,e,n){var i=n("e6f3"),a=n("1691").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,a)}},7514:function(t,e,n){"use strict";var i=n("5ca1"),a=n("0a49")(5),o="find",r=!0;o in[]&&Array(1)[o](function(){r=!1}),i(i.P+i.F*r,"Array",{find:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")(o)},"774e":function(t,e,n){t.exports=n("d2d5")},"85f2":function(t,e,n){t.exports=n("454f")},"8aae":function(t,e,n){n("32a6"),t.exports=n("584a").Object.keys},9003:function(t,e,n){var i=n("6b4c");t.exports=Array.isArray||function(t){return"Array"==i(t)}},"95d5":function(t,e,n){var i=n("40c3"),a=n("5168")("iterator"),o=n("481b");t.exports=n("584a").isIterable=function(t){var e=Object(t);return void 0!==e[a]||"@@iterator"in e||o.hasOwnProperty(i(e))}},"9aa9":function(t,e){e.f=Object.getOwnPropertySymbols},"9c99":function(t,e,n){"use strict";var i=n("3976"),a=n.n(i);a.a},a4bb:function(t,e,n){t.exports=n("8aae")},a745:function(t,e,n){t.exports=n("f410")},b02f:function(t,e,n){"use strict";var i=n("c31c"),a=n.n(i);a.a},b0c5:function(t,e,n){"use strict";var i=n("520a");n("5ca1")({target:"RegExp",proto:!0,forced:i!==/./.exec},{exec:i})},b9fe:function(t,e,n){"use strict";var i=n("ceda"),a=n.n(i);a.a},bf0b:function(t,e,n){var i=n("355d"),a=n("aebd"),o=n("36c3"),r=n("1bc3"),s=n("07e3"),c=n("794b"),l=Object.getOwnPropertyDescriptor;e.f=n("8e60")?l:function(t,e){if(t=o(t),e=r(e,!0),c)try{return l(t,e)}catch(n){}if(s(t,e))return a(!i.f.call(t,e),t[e])}},bf90:function(t,e,n){var i=n("36c3"),a=n("bf0b").f;n("ce7e")("getOwnPropertyDescriptor",function(){return function(t,e){return a(i(t),e)}})},c31c:function(t,e,n){},c8bb:function(t,e,n){t.exports=n("54a1")},ccb9:function(t,e,n){e.f=n("5168")},cd1c:function(t,e,n){var i=n("e853");t.exports=function(t,e){return new(i(t))(e)}},ce7e:function(t,e,n){var i=n("63b6"),a=n("584a"),o=n("294c");t.exports=function(t,e){var n=(a.Object||{})[t]||Object[t],r={};r[t]=e(n),i(i.S+i.F*o(function(){n(1)}),"Object",r)}},cebc:function(t,e,n){"use strict";var i=n("268f"),a=n.n(i),o=n("e265"),r=n.n(o),s=n("a4bb"),c=n.n(s),l=n("85f2"),u=n.n(l);function f(t,e,n){return e in t?u()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=c()(n);"function"===typeof r.a&&(i=i.concat(r()(n).filter(function(t){return a()(n,t).enumerable}))),i.forEach(function(e){f(t,e,n[e])})}return t}n.d(e,"a",function(){return d})},ceda:function(t,e,n){},d2d5:function(t,e,n){n("1654"),n("549b"),t.exports=n("584a").Array.from},e265:function(t,e,n){t.exports=n("ed33")},e721:function(t,e,n){},e853:function(t,e,n){var i=n("d3f4"),a=n("1169"),o=n("2b4c")("species");t.exports=function(t){var e;return a(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!a(e.prototype)||(e=void 0),i(e)&&(e=e[o],null===e&&(e=void 0))),void 0===e?Array:e}},ebfd:function(t,e,n){var i=n("62a0")("meta"),a=n("f772"),o=n("07e3"),r=n("d9f6").f,s=0,c=Object.isExtensible||function(){return!0},l=!n("294c")(function(){return c(Object.preventExtensions({}))}),u=function(t){r(t,i,{value:{i:"O"+ ++s,w:{}}})},f=function(t,e){if(!a(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,i)){if(!c(t))return"F";if(!e)return"E";u(t)}return t[i].i},d=function(t,e){if(!o(t,i)){if(!c(t))return!0;if(!e)return!1;u(t)}return t[i].w},p=function(t){return l&&m.NEED&&c(t)&&!o(t,i)&&u(t),t},m=t.exports={KEY:i,NEED:!1,fastKey:f,getWeak:d,onFreeze:p}},ed33:function(t,e,n){n("014b"),t.exports=n("584a").Object.getOwnPropertySymbols},f410:function(t,e,n){n("1af6"),t.exports=n("584a").Array.isArray},fde4:function(t,e,n){n("bf90");var i=n("584a").Object;t.exports=function(t,e){return i.getOwnPropertyDescriptor(t,e)}}}]);
//# sourceMappingURL=grid.ed164c11.js.map